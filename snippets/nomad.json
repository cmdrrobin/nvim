{
    "nomad_job": {
        "prefix": "nomad_job",
        "body": [
            "job \"$1\" {",
            "\ttype = \"service\"",
            "\tdatacenters = [\"dc1\"]",
            "",
            "\tupdate {",
            "\t\tmax_parallel = 1",
            "\t\thealth_check = \"checks\"",
            "\t\tmin_healthy_time = \"10s\"",
            "\t\tauto_revert = true",
            "\t}",
            "",
            "\t// GROUPS",
            "\tgroup \"$2\" {",
            "",
            "\t}",
            "",
            "\t// TASKS",
            "\ttask \"$3\" {",
            "\t}",
            "}"
        ],
        "description": "declarative specification of tasks that Nomad should run"
    },
    "nomad_variables": {
        "prefix": "nomad_var",
        "body": [
            "variable \"$1\" {",
            "\tdescription = \"$2\"",
            "\ttype = $3",
            "}"
        ],
        "description": "define variable for the job"
    },
    "nomad_network": {
        "prefix": "nomad_nw",
        "body": [
            "network {",
            "\tmode = \"bridge\"",
            "\tport \"$1\" {}",
            "}"
        ],
        "description": "specify the networking requirements for the task group"
    },
    "nomad_service": {
        "prefix": "nomad_srv",
        "body": [
            "service {",
            "\tport = \"$1\"",
            "",
            "\tcheck {",
            "\t\tport = \"$2\"",
            "\t\ttype = \"$3\"",
            "\t\tinterval = \"10s\"",
            "\t\ttimeout = \"5s\"",
            "\t}",
            "}"
        ],
        "description": "to register a service with the specified provider"
    },
    "nomad_sidecar_service": {
        "prefix": "nomad_sidecar",
        "body": [
            "connect {",
            "\tsidecar_service {}",
            "}"
        ],
        "description": "allows configuring various options for the sidecar proxy managed by Nomad for Consul Connect integration"
    },
    "nomad_resources": {
        "prefix": "nomad_resource",
        "body": [
            "resources {",
            "\tcpu = 1000",
            "\tmemory = 1024",
            "}"
        ],
        "description": "resource requirements"
    },
    "nomad_ephemeral_disk": {
        "prefix": "nomad_ephemeral",
        "body": [
            "ephemeral_disk {",
            "\tmirate = true",
            "\tsize = $1",
            "\tsticky = true",
            "}"
        ],
        "description": "ephemeral disk requirements of the group"
    },
    "nomad_docker": {
        "prefix": "nomad_docker",
        "body": [
            "driver = \"docker\"",
            "",
            "config {",
            "\timage = \"$1\"",
            "}"
        ],
        "description": "use docker plugin for running Docker images"
    },
    "nomad_vault": {
        "prefix": "nomad_vault",
        "body": [
            "vault {",
            "\tpolicies = [$1]",
            "}"
        ],
        "description": "allows a task to specify that it requires a token from a HashiCorp Vault server"
    }
}
